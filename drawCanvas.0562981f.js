parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var u=function(){function n(){this.iterator=0}return n.getInstance=function(){return n.instance||(n.instance=new n),n.instance.iterator+=1,n.instance},n}();var p=function(){function i(){this.fichas=[],this.triki=[],this.turno=!1,this.codigo=u.getInstance().iterator,this.color=1==this.codigo?"red":"blue";for(var i=1;i<=9;){var t=400+20*i,o=1==this.codigo?220:250,e={id:i,c:null,x:t,y:o,xi:t,yi:o,move:!1};this.fichas.push(e),i++}}return i.prototype.deleteFicha=function(i){var t=this;console.log(this.fichas),this.fichas.forEach(function(o){o.id===i&&t.fichas.splice(t.fichas.indexOf(o),1)})},i.prototype.setPosicion=function(i,t,o){var e=this.fichas.filter(function(t){return t.id==i});e[0].x=t,e[0].y=o},i.prototype.resetPosicion=function(i){var t=this.fichas.filter(function(t){return t.id==i});t[0].x=t[0].xi,t[0].y=t[0].yi},i.prototype.resetMove=function(){this.turno=!1,this.fichas.forEach(function(i){i.move=!1})},i.prototype.setTriki=function(i){this.triki.push(i)},i}();var l=[{c:"A",x:20,y:10,b:!1},{c:"B",x:500,y:10,b:!1},{c:"C",x:980,y:10,b:!1},{c:"D",x:167,y:84,b:!1},{c:"E",x:500,y:84,b:!1},{c:"F",x:833,y:84,b:!1},{c:"G",x:314,y:158,b:!1},{c:"H",x:500,y:158,b:!1},{c:"I",x:686,y:158,b:!1},{c:"J",x:20,y:250,b:!1},{c:"K",x:167,y:250,b:!1},{c:"L",x:314,y:250,b:!1},{c:"M",x:686,y:250,b:!1},{c:"N",x:833,y:250,b:!1},{c:"O",x:980,y:250,b:!1},{c:"P",x:314,y:342,b:!1},{c:"Q",x:500,y:342,b:!1},{c:"R",x:686,y:342,b:!1},{c:"S",x:167,y:416,b:!1},{c:"T",x:500,y:416,b:!1},{c:"U",x:833,y:416,b:!1},{c:"V",x:20,y:490,b:!1},{c:"W",x:500,y:490,b:!1},{c:"X",x:980,y:490,b:!1}];var v=[{id:1,c:["A","B","C"]},{Id:2,c:["A","D","G"]},{Id:3,c:["A","J","V"]},{Id:4,c:["B","E","H"]},{Id:5,c:["C","F","I"]},{Id:6,c:["C","O","X"]},{id:7,c:["D","E","F"]},{Id:8,c:["D","K","S"]},{Id:9,c:["F","N","U"]},{Id:10,c:["G","H","I"]},{Id:11,c:["G","L","P"]},{Id:12,c:["I","M","R"]},{Id:13,c:["J","K","L"]},{Id:14,c:["M","N","O"]},{Id:15,c:["P","Q","R"]},{Id:16,c:["P","S","V"]},{Id:17,c:["S","T","U"]},{Id:18,c:["V","W","X"]},{Id:19,c:["Q","T","W"]},{Id:20,c:["R","U","X"]}];var g=document.querySelector("#lienzo"),w=document.querySelector("#lienzo"),b=g.getContext("2d"),h=w.getContext("2d"),q=2,m="black",x=10,d=new p,f=new p,j=document.querySelector("#boton"),s=!1,y=function(){l.forEach(function($){var a,r;a=$.x,r=$.y,b.beginPath(),b.arc(a,r,x,0,2*Math.PI,!1),b.font="15px sans-serif",b.lineWidth=2.5,b.strokeStyle=m,b.fillStyle="lightgray",b.fill(),b.stroke()})},z=function(){var $=function($,a,r,t){b.beginPath(),b.moveTo($,a),b.lineTo(r,t),b.lineWidth=q,b.strokeStyle=m,b.stroke()};$(0,0,1e3,500),$(0,500,1e3,0),$(500,0,500,500),$(0,250,1e3,250)},A=function(){b.beginPath(),b.lineWidth=q,b.strokeStyle=m;var $=b.createLinearGradient(0,0,750,375);$.addColorStop(0,"red"),$.addColorStop(1,"blue"),b.fillStyle=$,b.fillRect(0,0,1e3,10),b.fillRect(0,0,20,500),b.fillRect(0,490,1e3,10),b.fillRect(980,0,20,500),b.strokeRect(20,10,960,480),b.strokeRect(167,84,666,332),b.strokeRect(314,158,372,184),b.fillRect(314,158,372,184),b.stroke()},B=function($,a){h.globalCompositeOperation="fichas";var r=[];r.push($),r.push(a),r.forEach(function($){$.fichas.forEach(function(a){a.move||(1==$.codigo?h.drawImage(j,250,0,250,250,a.x,a.y,20,20):h.drawImage(j,0,0,250,250,a.x,a.y,20,20))})}),r.forEach(function($){$.fichas.forEach(function(a){a.move&&(1==$.codigo?h.drawImage(j,250,0,250,250,a.x,a.y,20,20):h.drawImage(j,0,0,250,250,a.x,a.y,20,20))})}),h.closePath()},k=function(){b.globalCompositeOperation="triki",b.clearRect(0,0,1e3,500),z(),A(),y(),B(d,f)},C=function(){k();var $=function($,a,r){void 0===r&&(r=!0);var t=$.getBoundingClientRect();return{x:Math.round(a.clientX-t.left)-(r?10:0),y:Math.round(a.clientY-t.top)-(r?10:0)}},a=function($,a,r){$.setPosicion(a.id,r.x,r.y)},r=function($,a,r){l.forEach(function($){!$.b&&Math.abs($.x-r.x)<=10&&Math.abs($.y-r.y)<=10&&(a.xi=$.x-10,a.yi=$.y-10,$.b=!0,a.c=$.c)}),$.resetPosicion(a.id),t()},t=function(){l.forEach(function($){$.b=!1,d.fichas.forEach(function(a){a.c===$.c&&($.b=!0)}),f.fichas.forEach(function(a){a.c===$.c&&($.b=!0)})})},c=function($){var a;if(v.forEach(function(r){var t=0;$.fichas.forEach(function($){null!=$.c&&r.c.indexOf($.c)>=0&&(t+=1)}),3===t&&$.triki.indexOf(r.id)<0&&(a=r)}),a){$.setTriki(a.id);var r=void 0;r=(r=(r="Jugador: "+$.codigo+"\n")+"Triki: "+a.id+"\n")+"Casillas: "+a.c+"\n",alert(r),alert("Arrastra una ficha rival para eliminar del juego")}return a};g.addEventListener("mousemove",function(r){if(s){var t=$(g,r);d.fichas.forEach(function($){$.move&&a(d,$,t)}),f.fichas.forEach(function($){$.move&&a(f,$,t)}),k()}}),g.addEventListener("mouseup",function(a){s&&(s=!1);var t=$(g,a,!1);d.fichas.forEach(function($){$.move&&r(d,$,t)}),f.fichas.forEach(function($){$.move&&r(f,$,t)}),k(),c(d),c(f)}),g.addEventListener("mousedown",function(a){s=!0,d.resetMove(),f.resetMove();var r=$(g,a);d.fichas.forEach(function($){Math.abs(r.x-$.x)<10&&Math.abs(r.y-$.y)<10&&(d.turno=!0,$.move=!0)}),f.fichas.forEach(function($){Math.abs(r.x-$.x)<10&&Math.abs(r.y-$.y)<10&&(f.turno=!0,$.move=!0)})}),g.addEventListener("dblclick",function(a){s=!1,d.resetMove(),f.resetMove();var r=$(g,a);d.fichas.forEach(function($){Math.abs(r.x-$.x)<10&&Math.abs(r.y-$.y)<10&&(console.log($.id),d.deleteFicha($.id))}),f.fichas.forEach(function($){Math.abs(r.x-$.x)<10&&Math.abs(r.y-$.y)<10&&(console.log($.id),f.deleteFicha($.id))}),k()})};C();return{"QgSD":{}};});